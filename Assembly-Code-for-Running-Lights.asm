.MODEL SMALL
.STACK 300H
.DATA
	SCHOOL DB 'UNIVERSITY OF PERPETUAL HELP SYSTEM LAGUNA'
	COLLEGE DB 'College of Engineering and Aviation'
	DEPT DB 'Department of Computer Engineering'
	TIL DB ' RUNNING LIGHTS '
	PAT DB 'PATTERNS:'
	OPT1 DB '[1] Alternate'
	OPT2 DB '[2] Binary Counter'
	OPT3 DB '[3] Push Input'
	OPT4 DB '[8] About'
	OPT5 DB '[9] Exit'
	NAV DB '[OPT] = Navigations'
	SEL DB '(E) = Select'
	ALP DB '(A) = Run All Patterns'
	STAT DB 'STATUS:'
	CHOS DB 'Choose a pattern...  '
	LRUN DB 'Lights are running...'
	STBY DB 'Please wait...       '
	PREV DB 'Preview:'
	OPT1SA DB '0101 0101'
	OPT1SB DB '1010 1010'
	OPT2S DB '0000 0000'
	OPT2SA DB '0000 0001'
	OPT2SB DB '0000 0010'
	OPT2SC DB '0000 0011'
	OPT2SD DB '0000 0100'
	OPT2SE DB '0000 0101'
	OPT2SF DB '0000 0110'
	OPT2SG DB '0000 0111'
	OPT2SH DB '0000 1000'
	OPT2SI DB '0000 1001'
	OPT2SJ DB '0000 1010'
	OPT2SK DB '0000 1011'
	OPT2SL DB '0000 1100'
	OPT2SM DB '0000 1101'
	OPT2SN DB '0000 1110'
	OPT2SO DB '0000 1111'
	OPT2SP DB '0001 0000'
	OPT2SQ DB '0001 0001'
	OPT2SR DB '0001 0010'
	OPT2SS DB '0001 0011'
	OPT2ST1 DB '0001 0100'
	OPT2SU DB '0001 0101'
	OPT2SV DB '0001 0110'
	OPT2SW DB '0001 0111'
	OPT2SX DB '0001 1000'
	OPT2SY DB '0001 1001'
	OPT2SZ DB '0001 1010'
	OPT2SAA DB '0001 1011'
	OPT2SBA DB '0001 1100'
	OPT2SCA DB '0001 1101'
	OPT2SDA DB '0001 1110'
	OPT2SEA DB '0001 1111'
	OPT2SFA DB '0010 0000'
	OPT2SGA DB '0010 0001'
	OPT2SHA DB '0010 0010'
	OPT2SIA DB '0010 0011'
	OPT2SJA DB '0010 0100'
	OPT2SKA DB '0010 0101'
	OPT2SLA DB '0010 0110'
	OPT2SMA DB '0010 0111'
	OPT2SNA DB '0010 1000'
	OPT2SOA DB '0010 1001'
	OPT2SPA DB '0010 1010'
	OPT2SQA DB '0010 1011'
	OPT2SRA DB '0010 1100'
	OPT2SSA DB '0010 1101'
	OPT2STA DB '0010 1110'
	OPT2SUA DB '0010 1111'
	OPT2SVA DB '0011 0000'
	OPT2SWA DB '0011 0001'
	OPT2SXA DB '0011 0010'
	OPT2SYA DB '0011 0011'
	OPT2SZA DB '0011 0100'
	OPT2SAB DB '0011 0101'
	OPT2SBB DB '0011 0110'
	OPT2SCB DB '0011 0111'
	OPT2SDB DB '0011 1000'
	OPT2SEB DB '0011 1001'
	OPT2SFB DB '0011 1010'
	OPT2SGB DB '0011 1011'
	OPT2SHB DB '0011 1100'
	OPT2SIB DB '0011 1101'
	OPT2SJB DB '0011 1110'
	OPT2SKB DB '0011 1111'
	OPT2SLB DB '0100 0000'
	OPT2SMB DB '0100 0001'
	OPT2SNB DB '0100 0010'
	OPT2SOB DB '0100 0011'
	OPT2SPB DB '0100 0100'
	OPT2SQB DB '0100 0101'
	OPT2SRB DB '0100 0110'
	OPT2SSB DB '0100 0111'
	OPT2STB DB '0100 1000'
	OPT2SUB DB '0100 1001'
	OPT2SVB DB '0100 1010'
	OPT2SWB DB '0100 1011'
	OPT2SXB DB '0100 1100'
	OPT2SYB DB '0100 1101'
	OPT2SZB DB '0100 1110'
	OPT2SAC DB '0100 1111'
	OPT2SBC DB '0101 0000'
	OPT2SCC DB '0101 0001'
	OPT2SDC DB '0101 0010'
	OPT2SEC DB '0101 0011'
	OPT2SFC DB '0101 0100'
	OPT2SGC DB '0101 0101'
	OPT2SHC DB '0101 0110'
	OPT2SIC DB '0101 0111'
	OPT2SJC DB '0101 1000'
	OPT2SKC DB '0101 1001'
	OPT2SLC DB '0101 1010'
	OPT2SMC DB '0101 1011'
	OPT2SNC DB '0101 1100'
	OPT2SOC DB '0101 1101'
	OPT2SPC DB '0101 1110'
	OPT2SQC DB '0101 1111'
	OPT2SRC DB '0110 0000'
	OPT2STC DB '0110 0001'
	OPT2SUC DB '0110 0010'
	OPT2SVC DB '0110 0011'
	OPT2SWC DB '0110 0100'
	OPT2SXC DB '0110 0101'
	OPT2SYC DB '0110 0110'
	OPT2SZC DB '0110 0111'
	OPT2SAD DB '0110 1000'
	OPT2SBD DB '0110 1001'
	OPT2SCD DB '0110 1010'
	OPT2SDD DB '0110 1011'
	OPT2SED DB '0110 1100'
	OPT2SFD DB '0110 1101'
	OPT2SGD DB '0110 1110'
	OPT2SHD DB '0110 1111'
	OPT2SID DB '0111 0000'
	OPT2SJD DB '0111 0001'
	OPT2SKD DB '0111 0010'
	OPT2SLD DB '0111 0011'
	OPT2SMD DB '0111 0100'
	OPT2SND DB '0111 0101'
	OPT2SOD DB '0111 0110'
	OPT2SPD DB '0111 0111'
	OPT2SQD DB '0111 1000'
	OPT2SRD DB '0111 1001'
	OPT2SSD DB '0111 1010'
	OPT2STD DB '0111 1011'
	OPT2SUD DB '0111 1100'
	OPT2SVD DB '0111 1101'
	OPT2SWD DB '0111 1110'
	OPT2SXD DB '0111 1111'
	OPT2SYD DB '1000 0000'
	OPT2SAE DB '1000 0001'
	OPT2SBE DB '1000 0010'
	OPT2SCE DB '1000 0011'
	OPT2SDE DB '1000 0100'
	OPT2SEE DB '1000 0101'
	OPT2SFE DB '1000 0110'
	OPT2SGE DB '1000 0111'
	OPT2SHE DB '1000 1000'
	OPT2SIE DB '1000 1001'
	OPT2SJE DB '1000 1010'
	OPT2SKE DB '1000 1011'
	OPT2SLE DB '1000 1100'
	OPT2SME DB '1000 1101'
	OPT2SNE DB '1000 1110'
	OPT2SOE DB '1000 1111'
	OPT2SPE DB '1001 0000'
	OPT2SQE DB '1001 0001'
	OPT2SRE DB '1001 0010'
	OPT2SSE DB '1001 0011'
	OPT2STE DB '1001 0100'
	OPT2SUE DB '1001 0101'
	OPT2SVE DB '1001 0110'
	OPT2SWE DB '1001 0111'
	OPT2SXE DB '1001 1000'
	OPT2SYE DB '1001 1001'
	OPT2SZE DB '1001 1010'
	OPT2SAF DB '1001 1011'
	OPT2SBF DB '1001 1100'
	OPT2SCF DB '1001 1101'
	OPT2SDF DB '1001 1110'
	OPT2SEF DB '1001 1111'
	OPT2SFF DB '1010 0000'
	OPT2SGF DB '1010 0001'
	OPT2SHF DB '1010 0010'
	OPT2SIF DB '1010 0011'
	OPT2SJF DB '1010 0100'
	OPT2SKF DB '1010 0101'
	OPT2SLF DB '1010 0110'
	OPT2SMF DB '1010 0111'
	OPT2SNF DB '1010 1000'
	OPT2SOF DB '1010 1001'
	OPT2SPF DB '1010 1010'
	OPT2SQF DB '1010 1011'
	OPT2SRF DB '1010 1100'
	OPT2SSF DB '1010 1101'
	OPT2STF DB '1010 1110'
	OPT2SUF DB '1010 1111'
	OPT2SVF DB '1011 0000'
	OPT2SWF DB '1011 0001'
	OPT2SXF DB '1011 0010'
	OPT2SYF DB '1011 0011'
	OPT2SZF DB '1011 0100'
	OPT2SAG DB '1011 0101'
	OPT2SBG DB '1011 0110'
	OPT2SCG DB '1011 0111'
	OPT2SDG DB '1011 1000'
	OPT2SEG DB '1011 1001'
	OPT2SFG DB '1011 1010'
	OPT2SGG DB '1011 1011'
	OPT2SHG DB '1011 1100'
	OPT2SIG DB '1011 1101'
	OPT2SJG DB '1011 1110'
	OPT2SKG DB '1011 1111'
	OPT2SLG DB '1100 0000'
	OPT2SMG DB '1100 0001'
	OPT2SNG DB '1100 0010'
	OPT2SOG DB '1100 0011'
	OPT2SPG DB '1100 0100'
	OPT2SQG DB '1100 0101'
	OPT2SRG DB '1100 0110'
	OPT2SSG DB '1100 0111'
	OPT2STG DB '1100 1000'
	OPT2SUG DB '1100 1001'
	OPT2SVG DB '1100 1010'
	OPT2SWG DB '1100 1011'
	OPT2SXG DB '1100 1100'
	OPT2SYG DB '1100 1101'
	OPT2SZG DB '1100 1110'
	OPT2SAH DB '1100 1111'
	OPT2SBH DB '1101 0000'
	OPT2SCH DB '1101 0001'
	OPT2SDH DB '1101 0010'
	OPT2SEH DB '1101 0011'
	OPT2SFH DB '1101 0100'
	OPT2SGH DB '1101 0101'
	OPT2SHH DB '1101 0110'
	OPT2SIH DB '1101 0111'
	OPT2SJH DB '1101 1000'
	OPT2SKH DB '1101 1001'
	OPT2SLH DB '1101 1010'
	OPT2SMH DB '1101 1011'
	OPT2SNH DB '1101 1100'
	OPT2SOH DB '1101 1101'
	OPT2SPH DB '1101 1110'
	OPT2SQH DB '1101 1111'
	OPT2SRH DB '1110 0000'
	OPT2SSH DB '1110 0001'
	OPT2STH DB '1110 0010'
	OPT2SUH DB '1110 0011'
	OPT2SVH DB '1110 0100'
	OPT2SWH DB '1110 0101'
	OPT2SXH DB '1110 0110'
	OPT2SYH DB '1110 0111'
	OPT2SZH DB '1110 1000'
	OPT2SAI DB '1110 1001'
	OPT2SBI DB '1110 1010'
	OPT2SCI DB '1110 1011'
	OPT2SDI DB '1110 1100'
	OPT2SEI DB '1110 1101'
	OPT2SFI DB '1110 1110'
	OPT2SGI DB '1110 1111'
	OPT2SHI DB '1111 0000'
	OPT2SII DB '1111 0001'
	OPT2SJI DB '1111 0010'
	OPT2SKI DB '1111 0011'
	OPT2SLI DB '1111 0100'
	OPT2SMI DB '1111 0101'
	OPT2SNI DB '1111 0110'
	OPT2SOI DB '1111 0111'
	OPT2SPI DB '1111 1000'
	OPT2SQI DB '1111 1001'
	OPT2SRI DB '1111 1010'
	OPT2SSI DB '1111 1011'
	OPT2STI DB '1111 1100'
	OPT2SUI DB '1111 1101'
	OPT2SVI DB '1111 1110'
	OPT2SWI DB '1111 1111'
	OPT3SA DB '0000 0000'
	OPT3SB DB '0000 0001'
	OPT3SC DB '0000 0010'
	OPT3SD DB '0000 0100'
	OPT3SE DB '0000 1000'
	OPT3SF DB '0001 0000'
	OPT3SG DB '0010 0000'
	OPT3SH DB '0100 0000'
	OPT3SI DB '1000 0000'
	OPT3SJ DB '1000 0001'
	OPT3SK DB '1000 0010'
	OPT3SL DB '1000 0100'
	OPT3SM DB '1000 1000'
	OPT3SN DB '1001 0000'
	OPT3SO DB '1010 0000'
	OPT3SP DB '1100 0000'
	OPT3SQ DB '1100 0001'
	OPT3SR DB '1100 0010'
	OPT3SS DB '1100 0100'
	OPT3ST DB '1100 1000'
	OPT3SU DB '1101 0000'
	OPT3SV DB '1110 0000'
	OPT3SW DB '1110 0001'
	OPT3SX DB '1110 0010'
	OPT3SY DB '1110 0100'
	OPT3SZ DB '1110 1000'
	OPT3S0 DB '1111 0000'
	OPT3S1 DB '1111 0001'
	OPT3S2 DB '1111 0010'
	OPT3S3 DB '1111 0100'
	OPT3S4 DB '1111 1000'
	OPT3S5 DB '1111 1001'
	OPT3S6 DB '1111 1010'
	OPT3S7 DB '1111 1100'
	OPT3S8 DB '1111 1101'
	OPT3S9 DB '1111 1110'
	OPT3S10 DB '1111 1111'
	ASCII DB 'ASCII Symbol: '
	CPRT DB 'Copyright c 2017'
	MICRO DB 'UPHSL MicroSociety'
	RES DB 'All rights reserved.'
	PR DB ' PROGRAMMERS: '
	NM1 DB 'BIONESTA, Ronnick Bien B.'
	NM2 DB 'FALLA, Christian L.'
	NM3 DB 'GILBUENA, Wendel T.'
	NM4 DB 'KARAMIHAN, Kenneth C.'
	CRS DB 'COURSE:        BSCpE-4'
	SBJT DB 'SUBJECT:       Computer System Organization with Assembly Language'
	PROF DB 'PROFESSOR:     Leilani J. Avecilla-Gonzales CpE, MEM, MSManE'
	MENU DB ' RETURN TO MAIN MENU [PRESS ANY KEY] '
	
.CODE
	
	BEGIN:
		MOV AX,@DATA
		MOV DS,AX
		MOV ES,AX
		MOV AX,0003H
		INT 10H
		
		MOV DX,037AH
		MOV AL,02H
		OUT DX,AL

		MOV DX,0378H
		MOV AL,00H
		OUT DX,AL

		JMP BG1
	
	BG1:
		MOV AH,02H
		MOV BH,00H
		MOV DX,0000H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,20H
		MOV CX,0800H
		INT 10H
	
		MOV DX,0102H
		JMP BG2
	
	BG2:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,10H
		MOV CX,004CH
		INT 10H
	
		ADD DX,0100H
		CMP DX,1802H
		LOOPNE BG2
		MOV DX,0204H
		JMP BG3
		
	BG3:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,0048H
		INT 10H
	
		ADD DX,0100H
		CMP DX,1304H
		LOOPNE BG3
		MOV DX,1404H
		JMP BG4
		
	BG4:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,0048H
		INT 10H
	
		ADD DX,0100H
		CMP DX,1704H
		LOOPNE BG4
		MOV DX,0927H
		JMP BG5
		
	BG5:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,10H
		MOV CX,0025H
		INT 10H
		
		ADD DH,01H
		CMP DH,14H
		LOOPNE BG5
		MOV DX,0A29H
		JMP BG6
		
	BG6:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,0023H
		INT 10H
		
		ADD DH,01H
		CMP DH,13H
		LOOPNE BG6
		JMP MSG
		
	BGC:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,0023H
		INT 10H
		
		ADD DH,01H
		CMP DH,13H
		LOOPNE BGC
		RET
		
	BGC1:
		MOV AH,02H
		MOV BH,00H
		MOV DX,0000H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,60H
		MOV CX,0800H
		INT 10H
	
		MOV DX,0102H
		RET
	
	BGC2:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,10H
		MOV CX,004CH
		INT 10H
	
		ADD DX,0100H
		CMP DX,1802H
		LOOPNE BGC2
		MOV DX,0204H
		RET
		
	BGC3:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,00H
		MOV CX,0048H
		INT 10H
	
		ADD DX,0100H
		CMP DX,1704H
		LOOPNE BGC3
		MOV DX,0318H
		RET
		
	BGC4:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,0020H
		INT 10H
	
		ADD DX,0100H
		CMP DH,0BH
		LOOPNE BGC4
		MOV DX,0419H
		RET
		
	BGC5:
		MOV AH,02H
		MOV BH,00H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,00H
		MOV CX,001EH
		INT 10H
	
		ADD DX,0100H
		CMP DH,0AH
		LOOPNE BGC5
		RET
		
	MSG:
		MOV DX,0313H
		MOV CX,002AH
		MOV BL,71H
		LEA BP,SCHOOL
		CALL P1
		
		MOV DL,16H
		MOV CX,0023H
		MOV BL,76H
		LEA BP,COLLEGE
		CALL P1
		
		MOV DL,16H
		MOV CX,0022H
		MOV BL,71H
		LEA BP,DEPT
		CALL P1
		
		MOV DX,0720H
		MOV CX,0010H
		MOV BL,70H
		LEA BP,TIL
		CALL P1
		
		MOV DX,0906H
		MOV CX,0009H
		LEA BP,PAT
		CALL P1
		
		INC DH
		MOV DL,09H
		MOV CX,000DH
		LEA BP,OPT1
		CALL P1
		
		MOV CX,0012H
		LEA BP,OPT2
		CALL P1
		
		MOV CX,000EH
		LEA BP,OPT3
		CALL P1
		
		INC DH
		MOV CX,0009H
		LEA BP,OPT4
		CALL P1
		
		MOV CX,0008H
		LEA BP,OPT5
		CALL P1
		
		ADD DH,04H
		MOV DL,06H
		MOV CX,0013H
		LEA BP,NAV
		CALL P1
		
		DEC DH
		MOV DL,21H
		MOV CX,000CH
		LEA BP,SEL
		CALL P1
		
		DEC DH
		MOV DL,34H
		MOV CX,0016H
		LEA BP,ALP
		CALL P1
		
		MOV BL,72H
		MOV DX,0B2BH
		MOV CX,0007H
		LEA BP,STAT
		CALL P1
		
		MOV BL,74H
		MOV DX,0E2EH
		MOV CX,0008H
		LEA BP,PREV
		CALL P1
		
		CALL NV1D
		CALL NV2D
		CALL NV3D
		CALL ABTD
		CALL EXTD
	
		JMP N
		
	MSGC:
		MOV BL,70H
		MOV DX,0D2EH
		MOV CX,0015H
		LEA BP,CHOS
		CALL P1
		
		MOV AH,02H
		MOV BH,00H
		MOV DX,112EH
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,000FH
		INT 10H
		
		RET
		
	N:
		MOV AH,08H
		INT 21H
		JMP NV
		
	N1:
		MOV AH,08H
		INT 21H
		JMP NVA
		
	N2:
		MOV AH,08H
		INT 21H
		JMP NVB
		
	NV:
		CMP AL,31H
		JE NV1A
		CMP AL,32H
		JE NV2A
		CMP AL,33H
		JE NV3A
		CMP AL,39H
		JE EXTA
		CMP AL,38H
		JE ABTA
		CMP AL,41H
		JE ALLA
		CMP AL,61H
		JE ALLA
		CMP AL,45H
		JE RUND
		CMP AL,65H
		JE RUND
		JMP N
	
	NVA:
		CMP AL,31H
		JE NV1A
		CMP AL,32H
		JE NV2A
		CMP AL,33H
		JE NV3A
		CMP AL,39H
		JE EXTA
		CMP AL,38H
		JE ABTA
		CMP AL,41H
		JE ALLA
		CMP AL,61H
		JE ALLA
		CMP AL,45H
		JE PROGB
		CMP AL,65H
		JE PROGB
		JMP N1
		
	NVB:
		CMP AL,31H
		JE NV1A
		CMP AL,32H
		JE NV2A
		CMP AL,33H
		JE NV3A
		CMP AL,39H
		JE EXTA
		CMP AL,38H
		JE ABTA
		CMP AL,41H
		JE ALLA
		CMP AL,61H
		JE ALLA
		CMP AL,45H
		JE EXTB
		CMP AL,65H
		JE EXTB
		JMP N2
	
	NV1A:
		JMP NV1
		
	NV2A:
		JMP NV2
		
	NV3A:
		JMP NV3
	
	ABTA:
		JMP ABT
		
	EXTA:
		JMP EXT
		
	RUND:
		JMP RUN
		
	PROGB:
		JMP PROG
		
	EXTB:
		JMP STP
		
	ALLA:
		JMP ALL

	NV1:
		CALL MSGC
		CALL NV2D
		CALL NV3D
		CALL ABTD
		CALL EXTD
		
		MOV AH,02H
		MOV BH,00H
		MOV DX,0B08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,00H
		MOV CX,001DH
		INT 10H
		
		MOV BL,07H
		MOV DX,0B09H
		MOV CX,000DH
		LEA BP,OPT1
		CALL P2
		MOV CX,0002H
		JMP OPT1S
	
	NV2:
		CALL MSGC
		CALL NV1D
		CALL NV3D
		CALL ABTD
		CALL EXTD
	
		MOV AH,02H
		MOV BH,00H
		MOV DX,0C08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,00H
		MOV CX,001DH
		INT 10H
		
		MOV BL,07H
		MOV DX,0C09H
		MOV CX,0012H
		LEA BP,OPT2
		CALL P2
		MOV CX,0001H
		JMP OPT2ST
		
	NV3:
		CALL MSGC
		CALL NV1D
		CALL NV2D
		CALL ABTD
		CALL EXTD
	
		MOV AH,02H
		MOV BH,00H
		MOV DX,0D08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,00H
		MOV CX,001DH
		INT 10H
		
		MOV BL,07H
		MOV DX,0D09H
		MOV CX,000EH
		LEA BP,OPT3
		CALL P2
		MOV CX,0001H
		JMP OPT3S11
		
	ABT:
		CALL NV1D
		CALL NV2D
		CALL NV3D
		CALL EXTD
		MOV DX,0A29H
		CALL BGC
		
		MOV BL,72H
		MOV DX,0B2BH
		MOV CX,0007H
		LEA BP,STAT
		CALL P2
		
		MOV AH,02H
		MOV BH,00H
		MOV DX,0F08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,00H
		MOV CX,001DH
		INT 10H
		
		MOV BL,07H
		MOV DX,0F09H
		MOV CX,0009H
		LEA BP,OPT4
		CALL P2
		CALL SLT
		JE PROGA
		CMP AL,65H
		JE PROGA
		JMP NVA
		
	PROGA:
		JMP PROG
		
	EXT:
		CALL NV1D
		CALL NV2D
		CALL NV3D
		CALL ABTD
		MOV DX,0A29H
		CALL BGC
		
		MOV BL,72H
		MOV DX,0B2BH
		MOV CX,0007H
		LEA BP,STAT
		CALL P2

		MOV AH,02H
		MOV BH,00H
		MOV DX,1008H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,07H
		MOV CX,001DH
		INT 10H
		
		MOV BL,07H
		MOV DX,1009H
		MOV CX,0008H
		LEA BP,OPT5
		CALL P2
		CALL SLT
		JE STPA
		CMP AL,65H
		JE STPA
		JMP NVB
		
	STPA:
		JMP STP
		
	NV1D:
		MOV AH,02H
		MOV BH,00H
		MOV DX,0B08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,001DH
		INT 10H
		
		MOV BL,70H
		MOV DX,0B09H
		MOV CX,000DH
		LEA BP,OPT1
		CALL P2
		RET
		
	NV2D:
		MOV AH,02H
		MOV BH,00H
		MOV DX,0C08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,001DH
		INT 10H
		
		MOV BL,70H
		MOV DX,0C09H
		MOV CX,0012H
		LEA BP,OPT2
		CALL P2
		RET
		
	NV3D:
		MOV AH,02H
		MOV BH,00H
		MOV DX,0D08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,001DH
		INT 10H
		
		MOV BL,70H
		MOV DX,0D09H
		MOV CX,000EH
		LEA BP,OPT3
		CALL P2
		RET
		
	ABTD:
		MOV AH,02H
		MOV BH,00H
		MOV DX,0F08H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,001DH
		INT 10H
		
		MOV BL,70H
		MOV DX,0F09H
		MOV CX,0009H
		LEA BP,OPT4
		CALL P2
		RET
		
	EXTD:
		MOV AH,02H
		MOV BH,00H
		MOV DX,1008H
		INT 10H
	
		MOV AH,09H
		MOV AL,20H
		MOV BH,00H
		MOV BL,70H
		MOV CX,001DH
		INT 10H
		
		MOV BL,70H
		MOV DX,1009H
		MOV CX,0008H
		LEA BP,OPT5
		CALL P2
		RET
		
	PROG:
		CALL BGC1
		CALL BGC2
		CALL BGC3
		CALL BGC4
		CALL BGC5
		
		MOV DX,0520H
		MOV CX,0010H
		MOV BL,03H
		LEA BP,TIL
		CALL P1
		
		MOV CX,0010H
		MOV BL,07H
		LEA BP,CPRT
		CALL P1
		
		MOV DL,1FH
		MOV CX,0012H
		MOV BL,04H
		LEA BP,MICRO
		CALL P1
		
		MOV DL,1EH
		MOV CX,0014H
		MOV BL,07H
		LEA BP,RES
		CALL P1
		
		MOV DX,0C06H
		MOV CX,000EH
		MOV BL,20H
		LEA BP,PR
		CALL P1
		
		MOV DL,09H
		MOV CX,0019H
		MOV BL,07H
		LEA BP,NM1
		CALL P1
		
		MOV CX,0013H
		MOV BL,07H
		LEA BP,NM2
		CALL P1
		
		MOV CX,0013H
		MOV BL,07H
		LEA BP,NM3
		CALL P1
		
		MOV CX,0015H
		MOV BL,07H
		LEA BP,NM4
		CALL P1
		
		MOV DX,1206H
		MOV CX,0016H
		MOV BL,07H
		LEA BP,CRS
		CALL P1
		
		MOV CX,0042H
		MOV BL,07H
		LEA BP,SBJT
		CALL P1
		
		MOV CX,003CH
		MOV BL,07H
		LEA BP,PROF
		CALL P1
		
		MOV DX,1616H
		MOV CX,0025H
		MOV BL,70H
		LEA BP,MENU
		CALL P1
		
		MOV AH,08H
		INT 21H
		JMP BEGIN
	
	SLT:
		MOV AH,08H
		INT 21H
		CMP AL,45H
		RET
		
	P1:
		MOV AL,01H
		MOV BH,00H
		MOV AH,13H
		INT 10H
		ADD DX,0100H
		RET
	
	P2:
		MOV AL,01H
		MOV BH,00H
		MOV AH,13H
		INT 10H
		RET
		
	OPT1S:	
		PUSH CX
		CALL STB
		MOV DI,0005H
		MOV AX,0000H
		INT 1Ah
		MOV BX,DX
		CALL DELAY
		
		MOV BL,74H
		MOV DX,0F2EH
		MOV CX,0009H
		LEA BP,OPT1SA
		CALL P2
		
		MOV DI,0005H
		MOV AX,0000H
		INT 1Ah
		MOV BX,DX
		CALL DELAY
		
		MOV BL,71H
		MOV DX,0F2EH
		MOV CX,0009H
		LEA BP,OPT1SB
		CALL P2
		POP CX
		LOOP OPT1S
		CALL MSGC
		CALL SLT
		JE OUT1A
		CMP AL,65H
		JE OUT1A
		JMP NV
		
	OUT1A:
		MOV CX,0008H
		JMP OUT1
		
	DOPT:
		PUSH BX
		MOV DI,0003H
		MOV AX,0000H
		INT 1Ah
		MOV BX,DX
		CALL DELAY
		
		MOV DX,0F2EH
		MOV CX,0009H
		POP BX
		XCHG SI,BX
		RET
		
	OPT2A:
		CALL DOPT
		LEA BP,OPT2S
		CALL P2
		CALL DOPT
		LEA BP,OPT2SA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJ
		CALL P2
		CALL DOPT
		LEA BP,OPT2SK
		CALL P2
		CALL DOPT
		LEA BP,OPT2SL
		CALL P2
		CALL DOPT
		LEA BP,OPT2SM
		CALL P2
		CALL DOPT
		LEA BP,OPT2SN
		CALL P2
		CALL DOPT
		LEA BP,OPT2SO
		CALL P2
		CALL DOPT
		LEA BP,OPT2SP
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQ
		CALL P2
		CALL DOPT
		LEA BP,OPT2SR
		CALL P2
		CALL DOPT
		LEA BP,OPT2SS
		CALL P2
		CALL DOPT
		LEA BP,OPT2ST1
		CALL P2
		CALL DOPT
		LEA BP,OPT2SU
		CALL P2
		CALL DOPT
		LEA BP,OPT2SV
		CALL P2
		CALL DOPT
		LEA BP,OPT2SW
		CALL P2
		CALL DOPT
		LEA BP,OPT2SX
		CALL P2
		CALL DOPT
		LEA BP,OPT2SY
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZ
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SIA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSA
		CALL P2
		CALL DOPT
		LEA BP,OPT2STA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZA
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SIB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSB
		CALL P2
		CALL DOPT
		LEA BP,OPT2STB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZB
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SIC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRC
		CALL P2
		CALL DOPT
		LEA BP,OPT2STC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZC
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SED
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SID
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SND
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSD
		CALL P2
		CALL DOPT
		LEA BP,OPT2STD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYD
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SIE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SME
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSE
		CALL P2
		CALL DOPT
		LEA BP,OPT2STE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZE
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SIF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSF
		CALL P2
		CALL DOPT
		LEA BP,OPT2STF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZF
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SIG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSG
		CALL P2
		CALL DOPT
		LEA BP,OPT2STG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZG
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SIH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSH
		CALL P2
		CALL DOPT
		LEA BP,OPT2STH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SXH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SYH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SZH
		CALL P2
		CALL DOPT
		LEA BP,OPT2SAI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SBI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SCI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SDI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SEI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SFI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SGI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SHI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SII
		CALL P2
		CALL DOPT
		LEA BP,OPT2SJI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SKI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SLI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SMI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SNI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SOI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SPI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SQI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SRI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SSI
		CALL P2
		CALL DOPT
		LEA BP,OPT2STI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SUI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SVI
		CALL P2
		CALL DOPT
		LEA BP,OPT2SWI
		CALL P2
		RET
	
	OPT2ST:	
		PUSH CX
		CALL STB
		MOV SI,71H
		MOV BL,74H
		CALL OPT2A
		POP CX
		LOOP OPT2ST
		CALL MSGC
		CALL SLT
		JE OUT2A
		CMP AL,65H
		JE OUT2A
		JMP NV
		
	OUT2A:
		JMP OUT2
		
	OPT3A:
		CALL DOPT
		LEA BP,OPT3SA
		CALL P2
		CALL DOPT
		LEA BP,OPT3SB
		CALL P2
		CALL DOPT
		LEA BP,OPT3SC
		CALL P2
		CALL DOPT
		LEA BP,OPT3SD
		CALL P2
		CALL DOPT
		LEA BP,OPT3SE
		CALL P2
		CALL DOPT
		LEA BP,OPT3SF
		CALL P2
		CALL DOPT
		LEA BP,OPT3SG
		CALL P2
		CALL DOPT
		LEA BP,OPT3SH
		CALL P2
		CALL DOPT
		LEA BP,OPT3SI
		CALL P2
		RET
		
	OPT3B:
		CALL DOPT
		LEA BP,OPT3SJ
		CALL P2
		CALL DOPT
		LEA BP,OPT3SK
		CALL P2
		CALL DOPT
		LEA BP,OPT3SL
		CALL P2
		CALL DOPT
		LEA BP,OPT3SM
		CALL P2
		CALL DOPT
		LEA BP,OPT3SN
		CALL P2
		CALL DOPT
		LEA BP,OPT3SO
		CALL P2
		CALL DOPT
		LEA BP,OPT3SP
		CALL P2
		CALL DOPT
		LEA BP,OPT3SQ
		CALL P2
		CALL DOPT
		LEA BP,OPT3SR
		CALL P2
		RET
	
	OPT3C:
		CALL DOPT
		LEA BP,OPT3SS
		CALL P2
		CALL DOPT
		LEA BP,OPT3ST
		CALL P2
		CALL DOPT
		LEA BP,OPT3SU
		CALL P2
		CALL DOPT
		LEA BP,OPT3SV
		CALL P2
		CALL DOPT
		LEA BP,OPT3SW
		CALL P2
		CALL DOPT
		LEA BP,OPT3SX
		CALL P2
		CALL DOPT
		LEA BP,OPT3SY
		CALL P2
		CALL DOPT
		LEA BP,OPT3SZ
		CALL P2
		CALL DOPT
		LEA BP,OPT3S0
		CALL P2
		CALL DOPT
		LEA BP,OPT3S1
		CALL P2
		RET
		
	OPT3S11:	
		PUSH CX
		CALL STB
		MOV SI,71H
		MOV BL,74H
		CALL OPT3A
		CALL OPT3B
		CALL OPT3C
		CALL DOPT
		LEA BP,OPT3S2
		CALL P2
		CALL DOPT
		LEA BP,OPT3S3
		CALL P2
		CALL DOPT
		LEA BP,OPT3S4
		CALL P2
		CALL DOPT
		LEA BP,OPT3S5
		CALL P2
		CALL DOPT
		LEA BP,OPT3S6
		CALL P2
		CALL DOPT
		LEA BP,OPT3S7
		CALL P2
		CALL DOPT
		LEA BP,OPT3S8
		CALL P2
		CALL DOPT
		LEA BP,OPT3S9
		CALL P2
		CALL DOPT
		LEA BP,OPT3S10
		CALL P2
		
		POP CX
		LOOP OPT3S11
		CALL MSGC
		CALL SLT
		JE OUT3A
		CMP AL,65H
		JE OUT3A
		JMP NV
		
	OUT3A:
		JMP OUT3
		
	OUT1:
		PUSH AX
		MOV DX,037AH
		MOV AL,02H
		OUT DX,AL
		POP AX

		PUSH CX
		CALL RUN
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
	
		MOV DX,0378H
		MOV AL,01010101B
		OUT DX,AL
		
		CALL CHAR
		
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
		
		MOV DX,0378H
		MOV AL,10101010B
		OUT DX,AL
		
		CALL CHAR
		
		POP CX
		LOOP OUT1
		JMP MSGA
		
	OUT2:
		CALL RUN
		MOV DX,0378H
		MOV AL,00000001B
		OUT DX,AL
		
		CALL CHAR
		
		JMP OUT2B
	
	OUT2B:
		PUSH AX
		MOV DX,037AH
		MOV AL,02H
		OUT DX,AL
		POP AX
		
		PUSH AX
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
		
		POP AX
		MOV DX,0378H
		INC AL
		OUT DX,AL
		
		CALL CHAR
		
		CMP AL,00000000B
		JNE OUT2B
		JMP MSGA
		
	
	OUT3:
		CALL RUN
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
		
		MOV DX,0378H
		MOV AL,00000001B
		OUT DX,AL
		
		PUSH AX
		CALL CHAR
		POP AX
		
		MOV BL,00000001B
		JMP OUT3B
		
	OUT3BA:
		MOV BL,00000001B
		MOV DX,0378H
		ADD AL,BL
		OUT DX,AL
		
		PUSH AX
		PUSH BX
		CALL CHAR
		POP BX
		POP AX
		JMP OUT3B
		
	OUT3B:
		PUSH AX
		MOV DX,037AH
		MOV AL,02H
		OUT DX,AL
		POP AX
		
		PUSH AX
		PUSH BX
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
		POP BX
		POP AX
	
		MOV DX,0378H
		ADD AL,BL
		MOV CL,AL
		OUT DX,AL
		
		PUSH BX
		PUSH CX
		CALL CHAR
		POP CX
		POP BX
		
		MOV AL,00000010B
		MUL BL
		MOV BL,AL
		MOV AL,CL
		
		CMP AL,10000000B
		JE OUT3BA
		CMP AL,11000000B
		JE OUT3BA
		CMP AL,11100000B
		JE OUT3BA
		CMP AL,11110000B
		JE OUT3BA
		CMP AL,11111000B
		JE OUT3BA
		CMP AL,11111100B
		JE OUT3BA
		CMP AL,11111110B
		JE OUT3BA
		CMP AL,00H
		JNE OUT3B
		JE MSGAA

	MSGAA:
		JMP MSGA
		
	ALL:
		MOV CX,0008H
		CALL OUT12
		CALL OUT22
		CALL OUT33
		JMP N
		
	OUT12:
		PUSH CX
		CALL RUN
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
	
		MOV DX,0378H
		MOV AL,01010101B
		OUT DX,AL
		
		CALL CHAR
		
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
		
		MOV DX,0378H
		MOV AL,10101010B
		OUT DX,AL
		
		CALL CHAR
		
		POP CX
		LOOP OUT12
		RET
		
	OUT22:
		CALL RUN
		MOV DX,0378H
		MOV AL,00000001B
		OUT DX,AL
		
		CALL CHAR
		
		JMP OUT22B
	
	OUT22B:
		PUSH AX
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
		
		POP AX
		MOV DX,0378H
		INC AL
		OUT DX,AL
		
		CALL CHAR
		
		CMP AL,11111111B
		JNE OUT22B
		RET
		
	
	OUT33:
		CALL RUN
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
		
		MOV DX,0378H
		MOV AL,00000001B
		OUT DX,AL
		
		CALL CHAR
		
		MOV BL,00000001B
		JMP OUT33B
		
	OUT33B:
		MOV DI,0005H
		MOV AX,0000H
		INT 1AH
		MOV BX,DX
		CALL DELAY
	
		MOV DX,0378H
		ADD AL,BL
		MOV CL,AL
		OUT DX,AL
		
		PUSH CX
		CALL CHAR
		POP CX
		
		MOV AL,00000010B
		MUL BL
		MOV BL,AL
		MOV AL,CL
		CMP AL,11111111B
		JNE OUT33B
		JMP MSGA
		
	CHAR:
		MOV AH,02H
		MOV BH,00H
		MOV DX,113CH
		INT 10H
		MOV AH,09H
		MOV BH,00H
		MOV BL,20H
		MOV CX,1
		INT 10H
		RET
	
	RUN:
		MOV BL,71H
		MOV DX,0D2EH
		MOV CX,0015h
		LEA BP,LRUN
		CALL P2
		MOV BL,70H
		MOV DX,112EH
		MOV CX,000EH
		LEA BP,ASCII
		CALL P2
		RET
		
	MSGA:
		CALL MSGC
		MOV DX,0378H
		MOV AL,00000000B
		OUT DX,AL
		MOV AX,0000H
		MOV BX,0000H
		MOV CX,0000H
		MOV DX,0000H
		JMP MSG
		
	STB:
		MOV BL,76H
		MOV DX,0D2EH
		MOV CX,0015h
		LEA BP,STBY
		CALL P2
		RET
		
	DELAY:
		MOV AX,0000H
		INT 1Ah
		SUB DX,BX
		CMP DI,DX
		JA DELAY
		RET
		
	
	STP:
		MOV AX,0003H
		INT 10H
		MOV AH,4CH
		INT 21H
	
END
